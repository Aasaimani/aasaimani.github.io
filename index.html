<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Your Site</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  :root {
    --bg: #0f0f14;
    --fg: #e5e5e5;
    --accent: #6ae3ff;
  }

  body {
    margin: 0;
    background: var(--bg);
    color: var(--fg);
    font-family: system-ui, sans-serif;
  }

  /* ---- FIXED HEADER ---- */
  header {
    position: fixed;
    top: 0;
    width: 100%;
    background: #0f0f14ee;
    backdrop-filter: blur(6px);
    z-index: 1000;
    padding: 1rem 0 0.5rem;
    text-align: center;
    border-bottom: 1px solid #333;
  }

  header h1 {
    margin: 0.5rem 0;
    letter-spacing: 1px;
    font-weight: 500;
  }

  nav {
    margin-top: 1rem;
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  nav a {
    color: var(--accent);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    padding: 0.2rem 0.4rem;
  }

  nav a:hover {
    border-bottom: 1px solid var(--accent);
  }

  #content {
    margin-top: 430px; /* space for fixed header */
    padding: 2rem;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  /* ---- SECTION VISIBILITY ---- */
  .section {
    display: none;
    animation: fade 0.5s ease;
  }

  .section.active {
    display: block;
  }

  @keyframes fade {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* waveform */
  @keyframes wave {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
</style>
</head>

<body>

<!-- ===================== HEADER ===================== -->
<header>
  <canvas id="epicycleCanvas" width="320" height="160"
    style="display:block;margin:0 auto 1rem;"></canvas>

  <h1>Aasaimani Thamizhazhagan</h1>

  <img src="Aasai_2.JPEG" alt="Portrait"
    style="width:150px;height:150px;border-radius:50%;margin-top:1rem;
           border:2px solid var(--accent);object-fit:cover;">

  <p>Harmonic Analysis · Groups · Duality</p>

  <!-- social icons -->
  <div class="social-icons" style="margin:1rem 0; font-size:1.7rem; display:flex; justify-content:center; gap:1.2rem;">
    <a href="https://orcid.org/0009-0007-7553-4225" style="color:var(--accent);"><i class="fab fa-orcid"></i></a>
    <a href="#" style="color:var(--accent);"><i class="fas fa-book"></i></a>
    <a href="#" style="color:var(--accent);"><i class="fab fa-linkedin"></i></a>
  </div>

  <!-- NAV -->
  <nav>
    <a data-section="duality">Duality</a>
    <a data-section="spectrum">Spectrum</a>
    <a data-section="support">Support</a>
    <a data-section="representations">Representations</a>
    <a data-section="kernel">Kernel</a>
  </nav>

  <div id="waveform" style="margin-top:1rem;height:40px;width:100%;
         background:linear-gradient(90deg, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0.05) 100%);
         background-size:200% auto;animation:wave 6s linear infinite;">
  </div>
</header>

<!-- ===================== CONTENT AREA ===================== -->
<div id="content">
  <div id="duality" class="section active">
    <h2>Duality</h2>
    <p>Content about duality goes here.</p>
  </div>

  <div id="spectrum" class="section">
    <h2>Spectrum</h2>
    <p>Content about spectrum goes here.</p>
  </div>

  <div id="support" class="section">
    <h2>Support</h2>
    <p>Present position, previous positions, research timeline, etc.</p>
  </div>

  <div id="representations" class="section">
    <h2>Representations</h2>
    <p>Content on representation theory goes here.</p>
  </div>

  <div id="kernel" class="section">
    <h2>Kernel</h2>
    <p>Content for kernel section.</p>
  </div>
</div>

<script>
/* ==================== SECTION SWITCHING ==================== */
document.querySelectorAll("nav a").forEach(link => {
  link.addEventListener("click", () => {
    const target = link.getAttribute("data-section");
    document.querySelectorAll(".section").forEach(sec => sec.classList.remove("active"));
    document.getElementById(target).classList.add("active");
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
});

const canvas = document.getElementById("epicycleCanvas");
const ctx = canvas.getContext("2d");

let baseSpeed = 0.012;       // baseline animation speed
let scrollFactor = 0;        // extra speed from scroll
let time = 0;

// Store traced points
const trail = [];

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  const cx = canvas.width / 2;
  const cy = canvas.height / 2;

  // Fourier series parameters
  const harmonics = [1, 3, 5];       // odd harmonics for wave-like motion
  const radii = [35, 18, 10];        // radii decrease
  const speeds = harmonics.map(h => h);

  let x = cx;
  let y = cy;

  ctx.strokeStyle = "rgba(255,255,255,0.15)";

  // Draw epicycles
  for (let i = 0; i < harmonics.length; i++) {
    const r = radii[i];
    const w = speeds[i];

    const nx = x + r * Math.cos(time * w);
    const ny = y + r * Math.sin(time * w);

    // Circle
    ctx.beginPath();
    ctx.arc(x, y, r, 0, Math.PI * 2);
    ctx.stroke();

    x = nx;
    y = ny;
  }

  // Add traced point
  trail.push({x, y});
  if (trail.length > 300) trail.shift();

  // Draw trail (curve)
  ctx.strokeStyle = "var(--accent)";
  ctx.beginPath();
  for (let i = 0; i < trail.length; i++) {
    const p = trail[i];
    if (i === 0) ctx.moveTo(p.x, p.y);
    else ctx.lineTo(p.x, p.y);
  }
  ctx.stroke();

  // Draw final dot
  ctx.fillStyle = "var(--accent)";
  ctx.beginPath();
  ctx.arc(x, y, 3, 0, Math.PI * 2);
  ctx.fill();

  // Update time with scroll-based boost
  time += baseSpeed + scrollFactor;

  // Slowly decay scroll impulse so it feels natural
  scrollFactor *= 0.95;

  requestAnimationFrame(draw);
}

draw();

// Increase epicycle rotation speed when user scrolls
window.addEventListener("scroll", () => {
  scrollFactor += 0.003;     // adjust for sensitivity
});
</script>


</body>
</html>
